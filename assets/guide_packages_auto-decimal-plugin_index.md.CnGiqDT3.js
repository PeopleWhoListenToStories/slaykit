import{_ as i,c as a,a0 as n,o as t}from"./chunks/framework.Db5sgsAJ.js";const o=JSON.parse('{"title":"🔥auto-decimal-plugin","description":"","frontmatter":{"category":"UA"},"headers":[],"relativePath":"guide/packages/auto-decimal-plugin/index.md","filePath":"guide/packages/auto-decimal-plugin/index.md"}'),e={name:"guide/packages/auto-decimal-plugin/index.md"};function l(h,s,p,d,k,r){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="🔥auto-decimal-plugin" tabindex="-1">🔥auto-decimal-plugin <a class="header-anchor" href="#🔥auto-decimal-plugin" aria-label="Permalink to &quot;🔥auto-decimal-plugin&quot;">​</a></h1><h2 id="auto-decimal-plugin-是一个-vite-插件-旨在自动处理-javascript-数字运算中的精度问题。它通过将数字运算-如加法、减法、乘法、除法-转换为使用-decimal-js-进行的精确运算-从而避免-javascript-默认浮点数计算精度问题" tabindex="-1"><code>auto-decimal-plugin</code> 是一个 Vite 插件，旨在自动处理 JavaScript 数字运算中的精度问题。它通过将数字运算（如加法、减法、乘法、除法）转换为使用 <code>Decimal.js</code> 进行的精确运算，从而避免 JavaScript 默认浮点数计算精度问题 <a class="header-anchor" href="#auto-decimal-plugin-是一个-vite-插件-旨在自动处理-javascript-数字运算中的精度问题。它通过将数字运算-如加法、减法、乘法、除法-转换为使用-decimal-js-进行的精确运算-从而避免-javascript-默认浮点数计算精度问题" aria-label="Permalink to &quot;\`auto-decimal-plugin\` 是一个 Vite 插件，旨在自动处理 JavaScript 数字运算中的精度问题。它通过将数字运算（如加法、减法、乘法、除法）转换为使用 \`Decimal.js\` 进行的精确运算，从而避免 JavaScript 默认浮点数计算精度问题&quot;">​</a></h2><h2 id="✨-features" tabindex="-1">✨ Features <a class="header-anchor" href="#✨-features" aria-label="Permalink to &quot;✨ Features&quot;">​</a></h2><ul><li>自动将数值计算表达式转换为 <code>Decimal.js</code> 的精确计算。</li><li>支持加法、减法、乘法、除法运算。</li><li>支持赋值操作符（如 <code>+=</code>、<code>-=</code>、<code>*=</code>、<code>/=</code>）的转换。</li><li>使用 <code>decimal.js-light</code> 库，体积较小，适合前端使用。</li><li>支持 <code>.ts</code>, <code>.js</code>, <code>.vue</code>, <code>.tsx</code> 等文件类型。</li></ul><hr><h2 id="📦-installation" tabindex="-1">📦 Installation <a class="header-anchor" href="#📦-installation" aria-label="Permalink to &quot;📦 Installation&quot;">​</a></h2><p>Install the plugin via npm or yarn or pnpm:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Using npm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @slaykit/auto-decimal-plugin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Using yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @slaykit/auto-decimal-plugin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Using pnpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @slaykit/auto-decimal-plugin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre></div><h2 id="🚀-usage" tabindex="-1">🚀 Usage <a class="header-anchor" href="#🚀-usage" aria-label="Permalink to &quot;🚀 Usage&quot;">​</a></h2><p>Add the plugin to your vite.config.js or vite.config.ts:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { autoDecimalPlugin } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@slaykit/auto-decimal-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    autoDecimalPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 配置 include 和 exclude</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      include: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.tsx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      exclude: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node_modules/**&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 或者根据文件名/路径动态排除某些文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      isExcludedFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;some-special-file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据条件判断是否排除</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="📝-example" tabindex="-1">📝 Example <a class="header-anchor" href="#📝-example" aria-label="Permalink to &quot;📝 Example&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">在你的业务代码中，可以通过添加 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* @no-decimal */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 注释来控制哪些文件或代码块不应用数字精度处理。以下是一个示例：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* @no-decimal */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 此处的代码不会被插件处理</span></span></code></pre></div><h2 id="⚙️-api-reference" tabindex="-1">⚙️ API Reference <a class="header-anchor" href="#⚙️-api-reference" aria-label="Permalink to &quot;⚙️ API Reference&quot;">​</a></h2><p>The plugin accepts the following configuration options:</p><table tabindex="0"><thead><tr><th>选项</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>include</td><td>string[]</td><td><code>[&quot;**/*.ts&quot;, &quot;**/*.js&quot;, &quot;**/*.vue&quot;, &#39;**/*.tsx&#39;]</code></td><td>包含的文件类型，可以传入一个数组。支持通配符。</td></tr><tr><td>exclude</td><td>string[]</td><td><code>[&quot;node_modules/**&quot;]</code></td><td>排除的文件类型，可以传入一个数组。支持通配符。</td></tr><tr><td>isExcludedFile</td><td>(id: string) =&gt; boolean</td><td>null</td><td>可选的函数，用于动态决定是否排除某个文件。接受文件路径作为参数，如果返回 true，该文件将被排除。</td></tr></tbody></table><h2 id="贡献" tabindex="-1">贡献 <a class="header-anchor" href="#贡献" aria-label="Permalink to &quot;贡献&quot;">​</a></h2><p>如果你有任何改进建议或发现了问题，欢迎通过 GitHub Issues 向我们反馈，或者提交 Pull Request。</p>`,18)]))}const g=i(e,[["render",l]]);export{o as __pageData,g as default};
